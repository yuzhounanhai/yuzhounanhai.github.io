<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>HTTP协议总结归纳 | 南海の笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="概述HTTP（Hyper Text Transfer Protocal）协议指超文本传输协议，它是建立在TCP的基础上，利用万维网来进行传输超文本的一个应用层协议。 七层结构OSI是一个开放性的通信系统互连参考模型。OSI模型有7层结构，从下到上分别是物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。 其中TCP、UDP这些常见的协议位于传输层；HTTP、FTP等协议位于应用层。">
<meta name="keywords" content="http">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP协议总结归纳">
<meta property="og:url" content="https://yuzhounanhai.github.io/2019/09/29/HTTP协议总结归纳/index.html">
<meta property="og:site_name" content="南海の笔记">
<meta property="og:description" content="概述HTTP（Hyper Text Transfer Protocal）协议指超文本传输协议，它是建立在TCP的基础上，利用万维网来进行传输超文本的一个应用层协议。 七层结构OSI是一个开放性的通信系统互连参考模型。OSI模型有7层结构，从下到上分别是物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。 其中TCP、UDP这些常见的协议位于传输层；HTTP、FTP等协议位于应用层。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://yuzhounanhai.github.io/images/20190703/osi7.png">
<meta property="og:image" content="https://yuzhounanhai.github.io/images/20190703/CSmode.png">
<meta property="og:image" content="https://yuzhounanhai.github.io/images/20190703/request.png">
<meta property="og:image" content="https://yuzhounanhai.github.io/images/20190703/response.png">
<meta property="og:updated_time" content="2019-09-29T07:59:45.729Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP协议总结归纳">
<meta name="twitter:description" content="概述HTTP（Hyper Text Transfer Protocal）协议指超文本传输协议，它是建立在TCP的基础上，利用万维网来进行传输超文本的一个应用层协议。 七层结构OSI是一个开放性的通信系统互连参考模型。OSI模型有7层结构，从下到上分别是物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。 其中TCP、UDP这些常见的协议位于传输层；HTTP、FTP等协议位于应用层。">
<meta name="twitter:image" content="https://yuzhounanhai.github.io/images/20190703/osi7.png">
  
    <link rel="alternate" href="/atom.xml" title="南海の笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">南海の笔记</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">在海的南边，有一片宇宙！宇宙无垠，而探索无尽，是该同懒癌佛系奋斗！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yuzhounanhai.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-HTTP协议总结归纳" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/09/29/HTTP协议总结归纳/" class="article-date">
  <time datetime="2019-09-29T07:59:45.729Z" itemprop="datePublished">2019-09-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/网络通信/">网络通信</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HTTP协议总结归纳
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>HTTP（Hyper Text Transfer Protocal）协议指超文本传输协议，它是建立在TCP的基础上，利用万维网来进行传输超文本的一个应用层协议。</p>
<h2 id="七层结构"><a href="#七层结构" class="headerlink" title="七层结构"></a>七层结构</h2><p>OSI是一个开放性的通信系统互连参考模型。OSI模型有7层结构，从下到上分别是物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。</p>
<p>其中TCP、UDP这些常见的协议位于传输层；HTTP、FTP等协议位于应用层。</p>
<a id="more"></a>

<p><img src="/images/20190703/osi7.png" alt="osi七层及协议"></p>
<h2 id="TCP和UDP"><a href="#TCP和UDP" class="headerlink" title="TCP和UDP"></a>TCP和UDP</h2><ul>
<li>TCP是面向连接的，UDP是无连接的；</li>
<li>TCP是可靠传输，UDP不可靠；</li>
<li>TCP是面向字节流的，UDP是面向报文的；</li>
<li>TCP的连接是点到点的，UDP支持一对一、一对多通信。</li>
</ul>
<h2 id="HTTP和HTTPS"><a href="#HTTP和HTTPS" class="headerlink" title="HTTP和HTTPS"></a>HTTP和HTTPS</h2><h3 id="http和https协议均位于应用层，其中HTTPS协议是经由TLS、SSL加密的。他们的不同点如下："><a href="#http和https协议均位于应用层，其中HTTPS协议是经由TLS、SSL加密的。他们的不同点如下：" class="headerlink" title="http和https协议均位于应用层，其中HTTPS协议是经由TLS、SSL加密的。他们的不同点如下："></a>http和https协议均位于应用层，其中HTTPS协议是经由TLS、SSL加密的。他们的不同点如下：</h3><ul>
<li>HTTPS是经由加密后的协议，HTTP则是明文传输的；</li>
<li>HTTPS使用443端口，HTTP使用80端口；</li>
<li>HTTPS需要证书认证，成本较高，相较困难，但安全性比HTTP高。</li>
</ul>
<h3 id="HTTP协议的特点"><a href="#HTTP协议的特点" class="headerlink" title="HTTP协议的特点"></a>HTTP协议的特点</h3><ul>
<li>简单快速</li>
<li>灵活： HTTP协议允许传输任意类型的数据对象</li>
<li>无连接：请求响应后立即断开连接，1.1版本之后开始支持持久链接。</li>
<li>无状态：协议对于事务处理没有记忆能力，意味着如果后续处理需要前面的信息时，需要重传。<br>[注：协议的状态是指下一次传输可以“记住”这次传输信息的能力。]</li>
</ul>
<h2 id="HTTP的请求响应模型"><a href="#HTTP的请求响应模型" class="headerlink" title="HTTP的请求响应模型"></a>HTTP的请求响应模型</h2><p>HTTP协议永远都是客户端发起请求，服务器端进行响应，即请求-响应模式。</p>
<p><img src="/images/20190703/CSmode.png" alt="请求响应模型">;</p>
<h2 id="HTTP请求响应步骤"><a href="#HTTP请求响应步骤" class="headerlink" title="HTTP请求响应步骤"></a>HTTP请求响应步骤</h2><ol>
<li>客户端连接到web服务器，建立一个TCP套接字连接；</li>
<li>发起HTTP请求，通过TCP套接字，客户端发送一个请求报文；</li>
<li>服务器接收请求并返回响应报文；</li>
<li>释放TCP连接；</li>
<li>客户端解析响应；</li>
</ol>
<h2 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h2><p>请求报文由请求行、请求头、空行、请求体组成。</p>
<ul>
<li>请求行包括请求方法、url、协议版本；</li>
<li>请求头用以说明服务器要使用的附加信息；</li>
<li>空行用以区分请求头和请求体；</li>
<li>请求体是可选的，例如get请求就没有请求体。</li>
</ul>
<p><img src="/images/20190703/request.png" alt="请求报文">;</p>
<h2 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h2><ul>
<li>GET</li>
<li>POST</li>
<li>HEAD</li>
<li>PUT</li>
<li>DELETE</li>
<li>……</li>
</ul>
<h3 id="GET与POST的区别"><a href="#GET与POST的区别" class="headerlink" title="GET与POST的区别"></a>GET与POST的区别</h3><p><strong>最主要的区别：GET请求的参数是放置在URL中的，而POST请求的参数则是放置在请求体中。</strong></p>
<p>由此可以得出以下区别：</p>
<ul>
<li>GET请求在浏览器的后退是无害的，POST则会再次发起请求；</li>
<li>GET产生的URL地址可以被收藏，POST不可以；</li>
<li>GET请求的参数会出现在历史记录中，POST不会；</li>
<li>POST的安全性比GET要高；</li>
<li>URL是有长度限制的，因此GET请求的参数是有长度限制的，而POST没有限制；</li>
<li>GET请求只能进行URL编码，而POST支持多种编码方式；</li>
<li>对参数的数据类型，GET只接受ASCII字符，POST没有限制；</li>
<li>GET请求会被浏览器主动缓存，POST不会，除非手动设置。</li>
</ul>
<h2 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h2><p>响应报文同请求报文一致，拥有四个部分：响应行、响应头、空行和响应体。</p>
<p>其中响应行具备：协议版本、状态码、状态码描述这三个内容。</p>
<p><img src="/images/20190703/response.png" alt="响应报文"></p>
<h2 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h2><ul>
<li>1XX： 表示请求已经成功接收，等待后续的处理；</li>
<li>2XX： 成功；</li>
<li>3XX： 重定向相关；</li>
<li>4XX： 客户端错误；</li>
<li>5XX： 服务端错误。</li>
</ul>
<h3 id="具体的状态码"><a href="#具体的状态码" class="headerlink" title="具体的状态码"></a>具体的状态码</h3><ul>
<li>200：ok，请求成功；</li>
<li>301：所请求的页面已经转移到了新的url上；</li>
<li>302：所请求的页面已经临时转移到了新的url上；</li>
<li>304：未修改，缓存相关，表示客户端缓存未过期，可以被继续使用；</li>
<li>403：拒绝提供服务；</li>
<li>404：访问资源不存在；</li>
<li>500：服务器发生不可预期的错误；</li>
<li>503：临时过载或宕机，一段时间后可能恢复正常。</li>
</ul>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><h3 id="缓存的分类"><a href="#缓存的分类" class="headerlink" title="缓存的分类"></a>缓存的分类</h3><ul>
<li>强缓存：强制使用客户端的缓存，只有当客户端缓存过期，才向服务器请求新数据。</li>
<li>协商缓存：每次使用缓存时，都向服务器询问是否使用客户端缓存。</li>
</ul>
<h3 id="缓存相关的头字段"><a href="#缓存相关的头字段" class="headerlink" title="缓存相关的头字段"></a>缓存相关的头字段</h3><ol>
<li>Expires</li>
</ol>
<p>缓存到期时间，这个时间是一个绝对时间，具体到某年某月某天某时某分。</p>
<p>缺点：通过修改客户端的时间会导致缓存失效。</p>
<ol start="2">
<li>Cache-Control</li>
</ol>
<p>1.1版本协议针对Expires的缺点增设的过期时间的扩展，这是一个相对过期时间，它具备多种值，最常见的是max-age设置方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: max-age=259200;</span><br><span class="line">// 259200是一个以秒为单位的数字，代表经过259200秒后过期。</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Last-Modified</li>
</ol>
<p>由服务器告知客户端，资源最后一次被修改的时间。</p>
<ol start="4">
<li>If-Modified-Since</li>
</ol>
<p>客户端请求时携带的资源最后一次被修改的时间，服务器会比较Last-Modified和If-Modified-Since的值，若一致，则响应304，否则响应200，返回数据。</p>
<p>注意：</p>
<ul>
<li>Last-Modified是以秒为单位的，如果资源更新速度小于秒，则不能适用；</li>
<li>对于服务器动态生成的文件（如图片），这个文件的缓存的Last-Modified永远都是生成时的时间，永远不一致，尽管文件没变化，但也无法做到缓存的效果。</li>
</ul>
<ol start="5">
<li>Etag</li>
</ol>
<p>资源内容标志，一般是文件的MD5编码或者是一段HASH值。</p>
<p>服务器存储着文件的Etag字段，可以和每次客户端发送的If-no-match字段进行比较，若一致，响应304，否则响应200，返回数据。</p>
<h2 id="Cookie和Session"><a href="#Cookie和Session" class="headerlink" title="Cookie和Session"></a>Cookie和Session</h2><p>Cookie是存储Key-Value对（键-值对）的一个文件，务必记住，它是由服务器将Cookie添加到response里一并返回给客户端，然后客户端会自动把response里的cookie接收下来，并且保存到本地，下次发起请求的时候，就会把Cookie附加到request里，服务器再根据request里的cookie遍历搜索是否有与之符合的信息。</p>
<p>在Web开发中，服务器可以为每个用户浏览器创建一个会话对象（Session对象），在需要保存用户数据时，服务器程序可以把用户数据写入session中。</p>
<h3 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h3><ul>
<li>session存储在服务器端，cookie存储在客户端；</li>
<li>session中可以放置对象（如文件等），cookie则保存的是字符串（键值对形式）；</li>
<li>session的实现需要借助cookie，session-id存储在cookie中返回，如果客户端完全禁止cookie，session也将失效。</li>
</ul>
<h2 id="持久连接"><a href="#持久连接" class="headerlink" title="持久连接"></a>持久连接</h2><p>HTTP 1.1 版本开始支持持久连接，即完成响应之后不立即断开连接，当出现对服务器的后续请求时，避免了建立或者重新建立连接。</p>

        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuzhounanhai.github.io/2019/09/29/HTTP协议总结归纳/" data-title="HTTP协议总结归纳" data-id="ckg20rxav0000bovxl3cxfdco" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/http/">http</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/09/29/JavaScript原生API实现/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          原生API的实现
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  <div class="github-card" data-github="yuzhounanhai" data-width="100%" data-height="" data-theme="default"></div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络通信/">网络通信</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode解题/">LeetCode解题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redux/">Redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS/">TS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-dom/">react-dom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-reconciler/">react-reconciler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原理/">原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/JS/" style="font-size: 20px;">JS</a> <a href="/tags/LeetCode解题/" style="font-size: 12.5px;">LeetCode解题</a> <a href="/tags/React/" style="font-size: 17.5px;">React</a> <a href="/tags/Redux/" style="font-size: 12.5px;">Redux</a> <a href="/tags/TS/" style="font-size: 10px;">TS</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/react-dom/" style="font-size: 10px;">react-dom</a> <a href="/tags/react-reconciler/" style="font-size: 10px;">react-reconciler</a> <a href="/tags/原理/" style="font-size: 17.5px;">原理</a> <a href="/tags/笔记/" style="font-size: 12.5px;">笔记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/09/25/自定义React渲染器/">自定义React渲染器</a>
          </li>
        
          <li>
            <a href="/2020/09/25/easy-mock环境搭建/">EasyMock 环境搭建</a>
          </li>
        
          <li>
            <a href="/2019/09/29/简单实现虚拟Dom与Diff算法/">简单实现虚拟DOM与Diff算法</a>
          </li>
        
          <li>
            <a href="/2019/09/29/深入了解AJAX/">深入了解AJAX</a>
          </li>
        
          <li>
            <a href="/2019/09/29/浅析VUE双向绑定原理/">浅析VUE双向绑定原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 宇宙南海<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>

<script src="/js/jquery-3.4.1.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>